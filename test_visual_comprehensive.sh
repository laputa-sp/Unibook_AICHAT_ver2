#!/bin/bash
# test_visual_comprehensive.sh
# Visual Elements ì¢…í•© í…ŒìŠ¤íŠ¸ - ê°„ë‹¨í•œ curl í…ŒìŠ¤íŠ¸

echo "======================================================================"
echo "ðŸ§ª Visual Elements í†µí•© í…ŒìŠ¤íŠ¸"
echo "======================================================================"

# ì„œë²„ URL
BASE_URL="http://localhost:8080"

# ê±´ì¶•ì‹œê³µí•™ ISBN
ARCH_ISBN="9788000000001"

# ë²¼ëž‘ìœ„ì˜ í¬ë‡¨ ISBN
PONYO_ISBN="9791234567890"

# í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 1: ì´ë¯¸ì§€ê°€ ìžˆëŠ” íŽ˜ì´ì§€ (ê±´ì¶•ì‹œê³µí•™ 1íŽ˜ì´ì§€)
echo ""
echo "======================================================================"
echo "ðŸ“ í…ŒìŠ¤íŠ¸ 1: ì´ë¯¸ì§€ê°€ ìžˆëŠ” íŽ˜ì´ì§€ (ê±´ì¶•ì‹œê³µí•™ 1íŽ˜ì´ì§€ - í‘œì§€)"
echo "======================================================================"

curl -X POST "${BASE_URL}/api/chat/v1/response" \
  -H "Content-Type: application/json" \
  -d "{
    \"isbn\": \"${ARCH_ISBN}\",
    \"userid\": \"test_user\",
    \"sessionid\": \"test_session_1\",
    \"query\": \"1íŽ˜ì´ì§€ì— ë¬´ìŠ¨ ë‚´ìš©ì´ ìžˆì–´?\"
  }" \
  2>/dev/null | python3 -m json.tool | head -80

sleep 2

# í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 2: í‘œê°€ ìžˆëŠ” íŽ˜ì´ì§€ (ê±´ì¶•ì‹œê³µí•™ 4íŽ˜ì´ì§€)
echo ""
echo "======================================================================"
echo "ðŸ“ í…ŒìŠ¤íŠ¸ 2: í‘œê°€ ìžˆëŠ” íŽ˜ì´ì§€ (ê±´ì¶•ì‹œê³µí•™ 4íŽ˜ì´ì§€ - ëª©ì°¨)"
echo "======================================================================"

curl -X POST "${BASE_URL}/api/chat/v1/response" \
  -H "Content-Type: application/json" \
  -d "{
    \"isbn\": \"${ARCH_ISBN}\",
    \"userid\": \"test_user\",
    \"sessionid\": \"test_session_2\",
    \"query\": \"4íŽ˜ì´ì§€ ëª©ì°¨ ë‚´ìš© ë³´ì—¬ì¤˜\"
  }" \
  2>/dev/null | python3 -m json.tool | head -80

sleep 2

# í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 3: ì´ë¯¸ì§€+í‘œ ë³µí•© íŽ˜ì´ì§€ (ê±´ì¶•ì‹œê³µí•™ 3íŽ˜ì´ì§€)
echo ""
echo "======================================================================"
echo "ðŸ“ í…ŒìŠ¤íŠ¸ 3: ì´ë¯¸ì§€+í‘œ ë³µí•© (ê±´ì¶•ì‹œê³µí•™ 3íŽ˜ì´ì§€)"
echo "======================================================================"

curl -X POST "${BASE_URL}/api/chat/v1/response" \
  -H "Content-Type: application/json" \
  -d "{
    \"isbn\": \"${ARCH_ISBN}\",
    \"userid\": \"test_user\",
    \"sessionid\": \"test_session_3\",
    \"query\": \"3íŽ˜ì´ì§€ì— ë¬´ìŠ¨ ë‚´ìš©ì´ ìžˆì–´?\"
  }" \
  2>/dev/null | python3 -m json.tool | head -80

sleep 2

# í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 4: Visual Elements ì—†ëŠ” íŽ˜ì´ì§€
echo ""
echo "======================================================================"
echo "ðŸ“ í…ŒìŠ¤íŠ¸ 4: Visual Elements ì—†ëŠ” íŽ˜ì´ì§€ (ê±´ì¶•ì‹œê³µí•™ 5íŽ˜ì´ì§€)"
echo "======================================================================"

curl -X POST "${BASE_URL}/api/chat/v1/response" \
  -H "Content-Type: application/json" \
  -d "{
    \"isbn\": \"${ARCH_ISBN}\",
    \"userid\": \"test_user\",
    \"sessionid\": \"test_session_4\",
    \"query\": \"5íŽ˜ì´ì§€ ë‚´ìš© ì•Œë ¤ì¤˜\"
  }" \
  2>/dev/null | python3 -m json.tool | head -80

sleep 2

# í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 5: ë²¼ëž‘ìœ„ì˜ í¬ë‡¨ - í‘œ íŽ˜ì´ì§€
echo ""
echo "======================================================================"
echo "ðŸ“ í…ŒìŠ¤íŠ¸ 5: ë²¼ëž‘ìœ„ì˜ í¬ë‡¨ 2íŽ˜ì´ì§€ (í‘œ)"
echo "======================================================================"

curl -X POST "${BASE_URL}/api/chat/v1/response" \
  -H "Content-Type: application/json" \
  -d "{
    \"isbn\": \"${PONYO_ISBN}\",
    \"userid\": \"test_user\",
    \"sessionid\": \"test_session_5\",
    \"query\": \"2íŽ˜ì´ì§€ì— ë¬´ìŠ¨ ë‚´ìš©ì´ ìžˆì–´?\"
  }" \
  2>/dev/null | python3 -m json.tool | head -80

sleep 2

# í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 6: í• ë£¨ì‹œë„¤ì´ì…˜ í…ŒìŠ¤íŠ¸ - ì¡´ìž¬í•˜ì§€ ì•ŠëŠ” íŽ˜ì´ì§€
echo ""
echo "======================================================================"
echo "ðŸ“ í…ŒìŠ¤íŠ¸ 6: í• ë£¨ì‹œë„¤ì´ì…˜ í…ŒìŠ¤íŠ¸ (ì—†ëŠ” íŽ˜ì´ì§€)"
echo "======================================================================"

curl -X POST "${BASE_URL}/api/chat/v1/response" \
  -H "Content-Type: application/json" \
  -d "{
    \"isbn\": \"${ARCH_ISBN}\",
    \"userid\": \"test_user\",
    \"sessionid\": \"test_session_6\",
    \"query\": \"600íŽ˜ì´ì§€ì— ì–´ë–¤ ê·¸ë¦¼ì´ ìžˆì–´?\"
  }" \
  2>/dev/null | python3 -m json.tool | head -80

echo ""
echo "======================================================================"
echo "âœ… ëª¨ë“  í…ŒìŠ¤íŠ¸ ì™„ë£Œ!"
echo "======================================================================"
